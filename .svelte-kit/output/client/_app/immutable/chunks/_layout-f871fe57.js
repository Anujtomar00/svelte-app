import{d as i,s as c}from"./session-3dce4b9c.js";import{r as _}from"./index-766d59b5.js";import{T as p}from"./index-6c230a90.js";const s=i("app:routes:(authenticated):layout");async function d(o){var n,u,l;const r=(n=await o.parent())==null?void 0:n.user,t=(u=o.locals)==null?void 0:u.user,a=(l=p(c))==null?void 0:l.user;s("parent_user:",r),s("locals_user:",t),s("session_user:",a);const e=a||t||r;if(s("user:",e),!e)throw s("no user, redirecting to /login"),_(301,"/login");return{user:e}}const y=Object.freeze(Object.defineProperty({__proto__:null,load:d},Symbol.toStringTag,{value:"Module"}));export{y as _,d as l};
