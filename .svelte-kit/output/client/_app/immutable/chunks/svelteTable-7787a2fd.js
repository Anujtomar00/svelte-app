import{S as ke,i as Ee,s as we,k as b,a as O,q as L,e as ne,l as m,m as y,h as d,c as C,r as H,n,p as se,b as U,G as c,U as P,B as ue,D as he,a4 as Ye,u as de,a5 as We,a6 as ge,a7 as Se,o as Qe,j as Xe,a8 as Ze,f as ee,g as ve,t as ae,d as ye,J as $e,L as xe,M as et,N as tt,w as De,x as Te,y as Ie,z as Ne,H as Be,F as lt}from"./index-6c230a90.js";function Me(r){let e,t,l,s,a,o,u,_,h;return{c(){e=b("div"),t=b("div"),l=b("span"),s=L(r[4]),a=O(),o=b("button"),u=L("Close"),this.h()},l(i){e=m(i,"DIV",{class:!0});var f=y(e);t=m(f,"DIV",{class:!0});var p=y(t);l=m(p,"SPAN",{class:!0});var k=y(l);s=H(k,r[4]),k.forEach(d),a=C(p),o=m(p,"BUTTON",{class:!0});var g=y(o);u=H(g,"Close"),g.forEach(d),p.forEach(d),f.forEach(d),this.h()},h(){n(l,"class","notification-span svelte-wy2h19"),n(o,"class","btn btn-ghost"),n(t,"class","alert alert-error"),n(e,"class","toast toast-top toast-center")},m(i,f){U(i,e,f),c(e,t),c(t,l),c(l,s),c(t,a),c(t,o),c(o,u),_||(h=P(o,"click",r[10]),_=!0)},p(i,f){f&16&&de(s,i[4])},d(i){i&&d(e),_=!1,h()}}}function Oe(r){let e,t,l,s,a,o,u,_,h;return{c(){e=b("div"),t=b("div"),l=b("span"),s=L(r[3]),a=O(),o=b("button"),u=L("Close"),this.h()},l(i){e=m(i,"DIV",{class:!0});var f=y(e);t=m(f,"DIV",{class:!0});var p=y(t);l=m(p,"SPAN",{class:!0});var k=y(l);s=H(k,r[3]),k.forEach(d),a=C(p),o=m(p,"BUTTON",{class:!0});var g=y(o);u=H(g,"Close"),g.forEach(d),p.forEach(d),f.forEach(d),this.h()},h(){n(l,"class","notification-span svelte-wy2h19"),n(o,"class","btn btn-ghost"),n(t,"class","alert alert-success"),n(e,"class","toast toast-top toast-center")},m(i,f){U(i,e,f),c(e,t),c(t,l),c(l,s),c(t,a),c(t,o),c(o,u),_||(h=P(o,"click",r[11]),_=!0)},p(i,f){f&8&&de(s,i[3])},d(i){i&&d(e),_=!1,h()}}}function st(r){let e,t,l,s,a,o,u,_,h,i,f,p,k,g,I,E,V,j,R,Q,B,W,Y,A,X,J,M,F,K,z,q,v,S,te,$,Z,oe,D=r[1]&&Me(r),T=r[2]&&Oe(r);return{c(){e=b("div"),t=b("div"),l=O(),s=b("div"),a=b("div"),o=b("h2"),u=L("Add Batch"),_=O(),h=b("form"),i=b("input"),f=O(),p=b("input"),k=O(),g=b("input"),I=O(),E=b("select"),V=b("option"),j=L("Select status"),R=b("option"),Q=L("Completed"),B=b("option"),W=L("In Progress"),Y=O(),A=b("input"),X=O(),J=b("p"),M=b("button"),F=L("Submit"),K=O(),z=b("button"),q=L("Cancel"),S=O(),D&&D.c(),te=O(),T&&T.c(),$=ne(),this.h()},l(N){e=m(N,"DIV",{class:!0,style:!0});var w=y(e);t=m(w,"DIV",{class:!0}),y(t).forEach(d),l=C(w),s=m(w,"DIV",{class:!0});var G=y(s);a=m(G,"DIV",{class:!0});var re=y(a);o=m(re,"H2",{class:!0});var ie=y(o);u=H(ie,"Add Batch"),ie.forEach(d),_=C(re),h=m(re,"FORM",{class:!0});var le=y(h);i=m(le,"INPUT",{autocorrect:!0,type:!0,id:!0,name:!0,placeholder:!0,class:!0}),f=C(le),p=m(le,"INPUT",{autocorrect:!0,type:!0,id:!0,name:!0,placeholder:!0,class:!0}),k=C(le),g=m(le,"INPUT",{autocorrect:!0,type:!0,id:!0,name:!0,placeholder:!0,class:!0}),I=C(le),E=m(le,"SELECT",{id:!0,class:!0,style:!0});var x=y(E);V=m(x,"OPTION",{});var fe=y(V);j=H(fe,"Select status"),fe.forEach(d),R=m(x,"OPTION",{});var _e=y(R);Q=H(_e,"Completed"),_e.forEach(d),B=m(x,"OPTION",{});var pe=y(B);W=H(pe,"In Progress"),pe.forEach(d),x.forEach(d),Y=C(le),A=m(le,"INPUT",{autocorrect:!0,type:!0,id:!0,name:!0,placeholder:!0,class:!0}),X=C(le),J=m(le,"P",{class:!0});var ce=y(J);M=m(ce,"BUTTON",{class:!0,type:!0});var be=y(M);F=H(be,"Submit"),be.forEach(d),K=C(ce),z=m(ce,"BUTTON",{class:!0});var me=y(z);q=H(me,"Cancel"),me.forEach(d),ce.forEach(d),le.forEach(d),re.forEach(d),G.forEach(d),w.forEach(d),S=C(N),D&&D.l(N),te=C(N),T&&T.l(N),$=ne(),this.h()},h(){n(t,"class","modal-background svelte-wy2h19"),n(o,"class",""),n(i,"autocorrect","off"),n(i,"type","text"),n(i,"id","batch_name"),n(i,"name","Batch Name"),n(i,"placeholder","Batch name..."),n(i,"class","input input-bordered w-full svelte-wy2h19"),i.required=!0,n(p,"autocorrect","off"),n(p,"type","text"),n(p,"id","start_date"),n(p,"name","Start Date"),n(p,"placeholder","Start date (dd/mm/yyyy)"),n(p,"class","input input-bordered w-full svelte-wy2h19"),p.required=!0,n(g,"autocorrect","off"),n(g,"type","text"),n(g,"id","end_date"),n(g,"name","End Date"),n(g,"placeholder","End date (dd/mm/yyyy)"),n(g,"class","input input-bordered w-full svelte-wy2h19"),g.required=!0,V.selected=!0,V.__value="Select status",V.value=V.__value,R.__value="Completed",R.value=R.__value,B.__value="In Progress",B.value=B.__value,n(E,"id","status"),n(E,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),se(E,"margin-top","2rem"),n(A,"autocorrect","off"),n(A,"type","number"),n(A,"id","total_employee"),n(A,"name","Total Employees"),n(A,"placeholder","Total Employees..."),n(A,"class","input input-bordered w-full svelte-wy2h19"),A.required=!0,n(M,"class","btn btn-primary"),n(M,"type","submit"),n(z,"class","btn"),n(J,"class","flex items-center gap-4 mt-12"),n(h,"class","svelte-wy2h19"),n(a,"class","prose"),n(s,"class","modal-content svelte-wy2h19"),n(e,"class","modal-container svelte-wy2h19"),n(e,"style",v=r[0]?"display: block;":"display: none;")},m(N,w){U(N,e,w),c(e,t),c(e,l),c(e,s),c(s,a),c(a,o),c(o,u),c(a,_),c(a,h),c(h,i),c(h,f),c(h,p),c(h,k),c(h,g),c(h,I),c(h,E),c(E,V),c(V,j),c(E,R),c(R,Q),c(E,B),c(B,W),c(h,Y),c(h,A),c(h,X),c(h,J),c(J,M),c(M,F),c(J,K),c(J,z),c(z,q),U(N,S,w),D&&D.m(N,w),U(N,te,w),T&&T.m(N,w),U(N,$,w),Z||(oe=[P(t,"click",r[5]),P(t,"keydown",r[6]),P(i,"input",r[8]),P(p,"input",r[8]),P(g,"change",r[8]),P(E,"input",r[8]),P(A,"input",r[8]),P(z,"click",r[5]),P(h,"submit",r[7])],Z=!0)},p(N,[w]){w&1&&v!==(v=N[0]?"display: block;":"display: none;")&&n(e,"style",v),N[1]?D?D.p(N,w):(D=Me(N),D.c(),D.m(te.parentNode,te)):D&&(D.d(1),D=null),N[2]?T?T.p(N,w):(T=Oe(N),T.c(),T.m($.parentNode,$)):T&&(T.d(1),T=null)},i:ue,o:ue,d(N){N&&d(e),N&&d(S),D&&D.d(N),N&&d(te),T&&T.d(N),N&&d($),Z=!1,he(oe)}}}function at(r,e,t){let l=!1,s=!1,a="",o="";Ye();let{getBatch:u}=e,_={batch_name:"",start_date:"",end_date:"",batch_status:!0,total_employee:0},{showModal:h=!1}=e;const i=()=>{t(0,h=!1)};function f(E){(E.key==="Enter"||E.key===" ")&&i()}async function p(E){E.preventDefault();try{const V=await fetch("http://localhost:3000/batches",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});V.ok?(t(3,a="Batch submitted successfully!"),t(2,s=!0),u(),t(0,h=!1)):(t(4,o=V.statusText),t(1,l=!0),t(0,h=!1),console.error("Failed to submit form:",V.statusText))}catch(V){t(4,o=String(V)),t(1,l=!0),t(0,h=!1),console.error("Failed to submit form:",V)}}function k(E){switch(E.target.id){case"batch_name":_.batch_name=E.target.value;break;case"start_date":_.start_date=E.target.value;break;case"end_date":_.end_date=E.target.value;break;case"status":_.batch_status=E.target.value;break;case"total_employee":_.total_employee=E.target.value;break}}const g=()=>t(1,l=!1),I=()=>t(2,s=!1);return r.$$set=E=>{"getBatch"in E&&t(9,u=E.getBatch),"showModal"in E&&t(0,h=E.showModal)},[h,l,s,a,o,i,f,p,k,u,g,I]}class ot extends ke{constructor(e){super(),Ee(this,e,at,st,we,{getBatch:9,showModal:0})}}function Ce(r){let e,t,l,s,a,o,u,_,h;return{c(){e=b("div"),t=b("div"),l=b("span"),s=L(r[5]),a=O(),o=b("button"),u=L("Close"),this.h()},l(i){e=m(i,"DIV",{class:!0});var f=y(e);t=m(f,"DIV",{class:!0});var p=y(t);l=m(p,"SPAN",{class:!0});var k=y(l);s=H(k,r[5]),k.forEach(d),a=C(p),o=m(p,"BUTTON",{class:!0});var g=y(o);u=H(g,"Close"),g.forEach(d),p.forEach(d),f.forEach(d),this.h()},h(){n(l,"class","notification-span svelte-14qp2jv"),n(o,"class","btn btn-ghost"),n(t,"class","alert alert-error"),n(e,"class","toast toast-top toast-center")},m(i,f){U(i,e,f),c(e,t),c(t,l),c(l,s),c(t,a),c(t,o),c(o,u),_||(h=P(o,"click",r[14]),_=!0)},p(i,f){f&32&&de(s,i[5])},d(i){i&&d(e),_=!1,h()}}}function Ve(r){let e,t,l,s,a,o,u,_,h;return{c(){e=b("div"),t=b("div"),l=b("span"),s=L(r[4]),a=O(),o=b("button"),u=L("Close"),this.h()},l(i){e=m(i,"DIV",{class:!0});var f=y(e);t=m(f,"DIV",{class:!0});var p=y(t);l=m(p,"SPAN",{class:!0});var k=y(l);s=H(k,r[4]),k.forEach(d),a=C(p),o=m(p,"BUTTON",{class:!0});var g=y(o);u=H(g,"Close"),g.forEach(d),p.forEach(d),f.forEach(d),this.h()},h(){n(l,"class","notification-span svelte-14qp2jv"),n(o,"class","btn btn-ghost"),n(t,"class","alert alert-success"),n(e,"class","toast toast-top toast-center")},m(i,f){U(i,e,f),c(e,t),c(t,l),c(l,s),c(t,a),c(t,o),c(o,u),_||(h=P(o,"click",r[15]),_=!0)},p(i,f){f&16&&de(s,i[4])},d(i){i&&d(e),_=!1,h()}}}function rt(r){let e,t,l,s,a,o,u,_,h,i,f,p,k,g,I,E,V,j,R,Q,B,W,Y,A,X,J,M,F,K,z,q,v,S,te,$,Z,oe,D,T=r[2]&&Ce(r),N=r[3]&&Ve(r);return{c(){e=b("div"),t=b("div"),l=O(),s=b("div"),a=b("div"),o=b("h2"),u=L("Edit Batch"),_=O(),h=b("form"),i=b("input"),f=O(),p=b("input"),g=O(),I=b("input"),V=O(),j=b("select"),R=b("option"),Q=L("Completed"),B=b("option"),W=L("In Progress"),Y=O(),A=b("input"),J=O(),M=b("p"),F=b("button"),K=L("Submit"),z=O(),q=b("button"),v=L("Cancel"),te=O(),T&&T.c(),$=O(),N&&N.c(),Z=ne(),this.h()},l(w){e=m(w,"DIV",{class:!0,style:!0});var G=y(e);t=m(G,"DIV",{class:!0}),y(t).forEach(d),l=C(G),s=m(G,"DIV",{class:!0});var re=y(s);a=m(re,"DIV",{class:!0});var ie=y(a);o=m(ie,"H2",{class:!0});var le=y(o);u=H(le,"Edit Batch"),le.forEach(d),_=C(ie),h=m(ie,"FORM",{class:!0});var x=y(h);i=m(x,"INPUT",{autocorrect:!0,type:!0,id:!0,name:!0,placeholder:!0,class:!0}),f=C(x),p=m(x,"INPUT",{autocorrect:!0,type:!0,id:!0,name:!0,placeholder:!0,class:!0}),g=C(x),I=m(x,"INPUT",{autocorrect:!0,type:!0,id:!0,name:!0,placeholder:!0,class:!0}),V=C(x),j=m(x,"SELECT",{id:!0,class:!0,style:!0});var fe=y(j);R=m(fe,"OPTION",{});var _e=y(R);Q=H(_e,"Completed"),_e.forEach(d),B=m(fe,"OPTION",{});var pe=y(B);W=H(pe,"In Progress"),pe.forEach(d),fe.forEach(d),Y=C(x),A=m(x,"INPUT",{autocorrect:!0,type:!0,id:!0,name:!0,placeholder:!0,class:!0}),J=C(x),M=m(x,"P",{class:!0});var ce=y(M);F=m(ce,"BUTTON",{class:!0,type:!0});var be=y(F);K=H(be,"Submit"),be.forEach(d),z=C(ce),q=m(ce,"BUTTON",{class:!0,type:!0});var me=y(q);v=H(me,"Cancel"),me.forEach(d),ce.forEach(d),x.forEach(d),ie.forEach(d),re.forEach(d),G.forEach(d),te=C(w),T&&T.l(w),$=C(w),N&&N.l(w),Z=ne(),this.h()},h(){n(t,"class","modal-background svelte-14qp2jv"),n(o,"class",""),n(i,"autocorrect","off"),n(i,"type","text"),n(i,"id","batch_name"),n(i,"name","name"),n(i,"placeholder","Batch name..."),n(i,"class","input input-bordered w-full svelte-14qp2jv"),i.required=!0,n(p,"autocorrect","off"),n(p,"type","date"),n(p,"id","start_date"),n(p,"name","date"),n(p,"placeholder","Start date..."),n(p,"class","input input-bordered w-full svelte-14qp2jv"),p.required=!0,p.value=k=r[0].start_date,n(I,"autocorrect","off"),n(I,"type","date"),n(I,"id","end_date"),n(I,"name","date"),n(I,"placeholder","End date..."),n(I,"class","input input-bordered w-full svelte-14qp2jv"),I.required=!0,I.value=E=r[0].end_date,R.__value="Completed",R.value=R.__value,B.__value="In Progress",B.value=B.__value,n(j,"id","batch_status"),n(j,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),se(j,"margin-top","2rem"),r[0].batch_status===void 0&&We(()=>r[13].call(j)),n(A,"autocorrect","off"),n(A,"type","number"),n(A,"id","total_employee"),n(A,"name","number"),n(A,"placeholder","Total Employees..."),n(A,"class","input input-bordered w-full svelte-14qp2jv"),A.required=!0,A.value=X=r[0].total_employee,n(F,"class","btn btn-primary"),n(F,"type","submit"),n(q,"class","btn"),n(q,"type","button"),n(M,"class","flex items-center gap-4 mt-12"),n(h,"class","svelte-14qp2jv"),n(a,"class","prose"),n(s,"class","modal-content svelte-14qp2jv"),n(e,"class","modal-container svelte-14qp2jv"),n(e,"style",S=r[1]?"display: block;":"display: none;")},m(w,G){U(w,e,G),c(e,t),c(e,l),c(e,s),c(s,a),c(a,o),c(o,u),c(a,_),c(a,h),c(h,i),ge(i,r[0].batch_name),c(h,f),c(h,p),c(h,g),c(h,I),c(h,V),c(h,j),c(j,R),c(R,Q),c(j,B),c(B,W),Se(j,r[0].batch_status,!0),c(h,Y),c(h,A),c(h,J),c(h,M),c(M,F),c(F,K),c(M,z),c(M,q),c(q,v),U(w,te,G),T&&T.m(w,G),U(w,$,G),N&&N.m(w,G),U(w,Z,G),oe||(D=[P(t,"click",r[6]),P(t,"keydown",r[7]),P(i,"input",r[12]),P(i,"change",r[9]),P(p,"change",r[9]),P(I,"change",r[9]),P(j,"change",r[13]),P(j,"change",r[9]),P(A,"change",r[9]),P(q,"click",r[6]),P(h,"submit",r[8])],oe=!0)},p(w,[G]){G&1&&i.value!==w[0].batch_name&&ge(i,w[0].batch_name),G&1&&k!==(k=w[0].start_date)&&(p.value=k),G&1&&E!==(E=w[0].end_date)&&(I.value=E),G&1&&Se(j,w[0].batch_status),G&1&&X!==(X=w[0].total_employee)&&A.value!==X&&(A.value=X),G&2&&S!==(S=w[1]?"display: block;":"display: none;")&&n(e,"style",S),w[2]?T?T.p(w,G):(T=Ce(w),T.c(),T.m($.parentNode,$)):T&&(T.d(1),T=null),w[3]?N?N.p(w,G):(N=Ve(w),N.c(),N.m(Z.parentNode,Z)):N&&(N.d(1),N=null)},i:ue,o:ue,d(w){w&&d(e),w&&d(te),T&&T.d(w),w&&d($),N&&N.d(w),w&&d(Z),oe=!1,he(D)}}}function nt(r,e,t){let l=!1,s=!1,a="",o="",{editData:u}=e,{id:_}=e,{getBatch:h}=e,i;function f(){i={batch_name:u.batch_name,start_date:u.start_date,end_date:u.end_date,batch_status:u.batch_status,total_employee:u.total_employee}}Qe(f),Xe(f);let{showModal:p=!1}=e;const k=B=>{B.preventDefault(),t(1,p=!1)};function g(B){(B.key==="Enter"||B.key===" ")&&k(B)}async function I(B){B.preventDefault();try{const W=await fetch(`http://localhost:3000/batches/${_}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});W.ok?(t(4,a="Batch edited successfully!"),t(3,s=!0),h(),t(1,p=!1)):(t(5,o=W.statusText),t(2,l=!0),t(1,p=!1),console.error("Failed to submit form:",W.statusText))}catch(W){t(5,o=String(W)),t(2,l=!0),t(1,p=!1),console.error("Failed to submit form:",W)}}function E(B){switch(B.target.id){case"batch_name":i.batch_name=B.target.value;break;case"start_date":i.start_date=B.target.value;break;case"end_date":i.end_date=B.target.value;break;case"batch_status":i.batch_status=B.target.value;break;case"total_employee":i.total_employee=B.target.value;break}}function V(){u.batch_name=this.value,t(0,u)}function j(){u.batch_status=Ze(this),t(0,u)}const R=()=>t(2,l=!1),Q=()=>t(3,s=!1);return r.$$set=B=>{"editData"in B&&t(0,u=B.editData),"id"in B&&t(10,_=B.id),"getBatch"in B&&t(11,h=B.getBatch),"showModal"in B&&t(1,p=B.showModal)},[u,p,l,s,a,o,k,g,I,E,_,h,V,j,R,Q]}class ct extends ke{constructor(e){super(),Ee(this,e,nt,rt,we,{editData:0,id:10,getBatch:11,showModal:1})}}function Pe(r){let e,t,l,s,a,o,u,_,h,i,f,p;const k=r[4].default,g=$e(k,r,r[3],null);return{c(){e=b("div"),t=b("div"),g&&g.c(),l=O(),s=b("div"),a=b("button"),o=L("Delete"),u=O(),_=b("button"),h=L("Close"),this.h()},l(I){e=m(I,"DIV",{class:!0});var E=y(e);t=m(E,"DIV",{class:!0,style:!0});var V=y(t);g&&g.l(V),l=C(V),s=m(V,"DIV",{class:!0});var j=y(s);a=m(j,"BUTTON",{class:!0});var R=y(a);o=H(R,"Delete"),R.forEach(d),u=C(j),_=m(j,"BUTTON",{class:!0});var Q=y(_);h=H(Q,"Close"),Q.forEach(d),j.forEach(d),V.forEach(d),E.forEach(d),this.h()},h(){n(a,"class","btn btn-primary mr-2"),n(_,"class","btn"),n(s,"class","flex mt-8"),n(t,"class","bg-base-300 rounded-lg shadow-lg p-8"),se(t,"width","30%"),n(e,"class","fixed inset-0 flex items-center justify-center z-50")},m(I,E){U(I,e,E),c(e,t),g&&g.m(t,null),c(t,l),c(t,s),c(s,a),c(a,o),c(s,u),c(s,_),c(_,h),i=!0,f||(p=[P(a,"click",r[2]),P(_,"click",r[1])],f=!0)},p(I,E){g&&g.p&&(!i||E&8)&&xe(g,k,I,I[3],i?tt(k,I[3],E,null):et(I[3]),null)},i(I){i||(ee(g,I),i=!0)},o(I){ae(g,I),i=!1},d(I){I&&d(e),g&&g.d(I),f=!1,he(p)}}}function ut(r){let e,t,l=r[0]&&Pe(r);return{c(){l&&l.c(),e=ne()},l(s){l&&l.l(s),e=ne()},m(s,a){l&&l.m(s,a),U(s,e,a),t=!0},p(s,[a]){s[0]?l?(l.p(s,a),a&1&&ee(l,1)):(l=Pe(s),l.c(),ee(l,1),l.m(e.parentNode,e)):l&&(ve(),ae(l,1,1,()=>{l=null}),ye())},i(s){t||(ee(l),t=!0)},o(s){ae(l),t=!1},d(s){l&&l.d(s),s&&d(e)}}}function it(r,e,t){let{$$slots:l={},$$scope:s}=e;const a=Ye();let{isOpen:o=!1}=e;function u(){a("close")}function _(){a("submit")}return r.$$set=h=>{"isOpen"in h&&t(0,o=h.isOpen),"$$scope"in h&&t(3,s=h.$$scope)},[o,u,_,s,l]}class dt extends ke{constructor(e){super(),Ee(this,e,it,ut,we,{isOpen:0})}}function Ue(r,e,t){const l=r.slice();return l[36]=e[t],l[37]=e,l[38]=t,l}function je(r,e,t){const l=r.slice();return l[39]=e[t],l}function qe(r,e,t){const l=r.slice();return l[39]=e[t],l}function Ae(r){let e,t,l,s;return{c(){e=b("button"),t=L("Delete"),this.h()},l(a){e=m(a,"BUTTON",{class:!0,style:!0});var o=y(e);t=H(o,"Delete"),o.forEach(d),this.h()},h(){n(e,"class","btn btn-danger"),n(e,"style","margin-left: 1rem;")},m(a,o){U(a,e,o),c(e,t),l||(s=P(e,"click",r[18]),l=!0)},p:ue,d(a){a&&d(e),l=!1,s()}}}function ft(r){let e,t,l,s,a,o=r[13],u=[];for(let f=0;f<o.length;f+=1)u[f]=Fe(qe(r,o,f));function _(f,p){return f[10].length===0?pt:_t}let h=_(r),i=h(r);return{c(){e=b("table"),t=b("thead"),l=b("tr");for(let f=0;f<u.length;f+=1)u[f].c();s=O(),a=b("tbody"),i.c(),this.h()},l(f){e=m(f,"TABLE",{class:!0});var p=y(e);t=m(p,"THEAD",{});var k=y(t);l=m(k,"TR",{class:!0});var g=y(l);for(let E=0;E<u.length;E+=1)u[E].l(g);g.forEach(d),k.forEach(d),s=C(p),a=m(p,"TBODY",{});var I=y(a);i.l(I),I.forEach(d),p.forEach(d),this.h()},h(){n(l,"class","svelte-1bxmwst"),n(e,"class","data-table svelte-1bxmwst")},m(f,p){U(f,e,p),c(e,t),c(t,l);for(let k=0;k<u.length;k+=1)u[k]&&u[k].m(l,null);c(e,s),c(e,a),i.m(a,null)},p(f,p){if(p[0]&8192){o=f[13];let k;for(k=0;k<o.length;k+=1){const g=qe(f,o,k);u[k]?u[k].p(g,p):(u[k]=Fe(g),u[k].c(),u[k].m(l,null))}for(;k<u.length;k+=1)u[k].d(1);u.length=o.length}h===(h=_(f))&&i?i.p(f,p):(i.d(1),i=h(f),i&&(i.c(),i.m(a,null)))},d(f){f&&d(e),Be(u,f),i.d()}}}function ht(r){let e,t,l;return{c(){e=b("div"),t=b("div"),l=L(`
        Loading...`),this.h()},l(s){e=m(s,"DIV",{class:!0});var a=y(e);t=m(a,"DIV",{class:!0}),y(t).forEach(d),l=H(a,`
        Loading...`),a.forEach(d),this.h()},h(){n(t,"class","loadingSpinner svelte-1bxmwst"),n(e,"class","loading svelte-1bxmwst")},m(s,a){U(s,e,a),c(e,t),c(e,l)},p:ue,d(s){s&&d(e)}}}function Fe(r){let e,t=r[39].label+"",l;return{c(){e=b("th"),l=L(t),this.h()},l(s){e=m(s,"TH",{class:!0});var a=y(e);l=H(a,t),a.forEach(d),this.h()},h(){n(e,"class","svelte-1bxmwst")},m(s,a){U(s,e,a),c(e,l)},p:ue,d(s){s&&d(e)}}}function _t(r){let e,t=r[10],l=[];for(let s=0;s<t.length;s+=1)l[s]=He(Ue(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ne()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);e=ne()},m(s,a){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,a);U(s,e,a)},p(s,a){if(a[0]&205824){t=s[10];let o;for(o=0;o<t.length;o+=1){const u=Ue(s,t,o);l[o]?l[o].p(u,a):(l[o]=He(u),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){Be(l,s),s&&d(e)}}}function pt(r){let e,t,l,s;return{c(){e=b("tr"),t=b("td"),l=b("div"),s=L("No records found."),this.h()},l(a){e=m(a,"TR",{class:!0});var o=y(e);t=m(o,"TD",{colspan:!0,class:!0});var u=y(t);l=m(u,"DIV",{class:!0});var _=y(l);s=H(_,"No records found."),_.forEach(d),u.forEach(d),o.forEach(d),this.h()},h(){n(l,"class","no-records svelte-1bxmwst"),n(t,"colspan",r[13].length),n(t,"class","svelte-1bxmwst"),n(e,"class","svelte-1bxmwst")},m(a,o){U(a,e,o),c(e,t),c(t,l),c(l,s)},p:ue,d(a){a&&d(e)}}}function bt(r){let e=r[36][r[39].id]+"",t;return{c(){t=L(e)},l(l){t=H(l,e)},m(l,s){U(l,t,s)},p(l,s){s[0]&1024&&e!==(e=l[36][l[39].id]+"")&&de(t,e)},d(l){l&&d(t)}}}function mt(r){let e,t,l;function s(){r[23].call(e,r[37],r[38])}function a(){return r[24](r[38])}return{c(){e=b("input"),this.h()},l(o){e=m(o,"INPUT",{type:!0,class:!0}),this.h()},h(){n(e,"type","checkbox"),n(e,"class","checkbox")},m(o,u){U(o,e,u),e.checked=r[36].selected,t||(l=[P(e,"change",s),P(e,"change",a)],t=!0)},p(o,u){r=o,u[0]&1024&&(e.checked=r[36].selected)},d(o){o&&d(e),t=!1,he(l)}}}function vt(r){let e,t,l,s,a,o;function u(){return r[22](r[36])}return{c(){e=b("div"),t=b("div"),l=b("img"),this.h()},l(_){e=m(_,"DIV",{style:!0});var h=y(e);t=m(h,"DIV",{class:!0,"data-tip":!0});var i=y(t);l=m(i,"IMG",{src:!0,alt:!0,style:!0}),i.forEach(d),h.forEach(d),this.h()},h(){lt(l.src,s="https://img.icons8.com/?size=512&id=71201&format=png")||n(l,"src",s),n(l,"alt","edit"),se(l,"height","37px"),se(l,"cursor","pointer"),n(t,"class","tooltip"),n(t,"data-tip","Edit"),se(e,"display","flex"),se(e,"justify-content","space-evenly")},m(_,h){U(_,e,h),c(e,t),c(t,l),a||(o=[P(t,"click",u),P(t,"keydown",r[16])],a=!0)},p(_,h){r=_},d(_){_&&d(e),a=!1,he(o)}}}function Le(r){let e;function t(a,o){return a[39].id==="actions"?vt:a[39].id==="checkbox"?mt:bt}let s=t(r)(r);return{c(){e=b("td"),s.c(),this.h()},l(a){e=m(a,"TD",{class:!0});var o=y(e);s.l(o),o.forEach(d),this.h()},h(){n(e,"class","svelte-1bxmwst")},m(a,o){U(a,e,o),s.m(e,null)},p(a,o){s.p(a,o)},d(a){a&&d(e),s.d()}}}function He(r){let e,t,l=r[13],s=[];for(let a=0;a<l.length;a+=1)s[a]=Le(je(r,l,a));return{c(){e=b("tr");for(let a=0;a<s.length;a+=1)s[a].c();t=O(),this.h()},l(a){e=m(a,"TR",{class:!0});var o=y(e);for(let u=0;u<s.length;u+=1)s[u].l(o);t=C(o),o.forEach(d),this.h()},h(){n(e,"class","svelte-1bxmwst")},m(a,o){U(a,e,o);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);c(e,t)},p(a,o){if(o[0]&205824){l=a[13];let u;for(u=0;u<l.length;u+=1){const _=je(a,l,u);s[u]?s[u].p(_,o):(s[u]=Le(_),s[u].c(),s[u].m(e,t))}for(;u<s.length;u+=1)s[u].d(1);s.length=l.length}},d(a){a&&d(e),Be(s,a)}}}function Re(r){let e,t;return e=new ot({props:{showModal:r[0].showModal,getBatch:r[14]}}),{c(){De(e.$$.fragment)},l(l){Te(e.$$.fragment,l)},m(l,s){Ie(e,l,s),t=!0},p(l,s){const a={};s[0]&1&&(a.showModal=l[0].showModal),e.$set(a)},i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){Ne(e,l)}}}function Je(r){let e,t;return e=new ct({props:{showModal:r[1].showModal,editData:r[6],id:r[6]._id,getBatch:r[14]}}),{c(){De(e.$$.fragment)},l(l){Te(e.$$.fragment,l)},m(l,s){Ie(e,l,s),t=!0},p(l,s){const a={};s[0]&2&&(a.showModal=l[1].showModal),s[0]&64&&(a.editData=l[6]),s[0]&64&&(a.id=l[6]._id),e.$set(a)},i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){Ne(e,l)}}}function ze(r){let e,t,l,s,a,o,u,_,h;return{c(){e=b("div"),t=b("div"),l=b("span"),s=L(r[5]),a=O(),o=b("button"),u=L("Close"),this.h()},l(i){e=m(i,"DIV",{class:!0});var f=y(e);t=m(f,"DIV",{class:!0});var p=y(t);l=m(p,"SPAN",{class:!0});var k=y(l);s=H(k,r[5]),k.forEach(d),a=C(p),o=m(p,"BUTTON",{class:!0});var g=y(o);u=H(g,"Close"),g.forEach(d),p.forEach(d),f.forEach(d),this.h()},h(){n(l,"class","notification-span svelte-1bxmwst"),n(o,"class","btn btn-ghost"),n(t,"class","alert alert-error"),n(e,"class","toast toast-top toast-center")},m(i,f){U(i,e,f),c(e,t),c(t,l),c(l,s),c(t,a),c(t,o),c(o,u),_||(h=P(o,"click",r[25]),_=!0)},p(i,f){f[0]&32&&de(s,i[5])},d(i){i&&d(e),_=!1,h()}}}function Ge(r){let e,t,l,s,a,o,u,_,h;return{c(){e=b("div"),t=b("div"),l=b("span"),s=L(r[4]),a=O(),o=b("button"),u=L("Close"),this.h()},l(i){e=m(i,"DIV",{class:!0});var f=y(e);t=m(f,"DIV",{class:!0});var p=y(t);l=m(p,"SPAN",{class:!0});var k=y(l);s=H(k,r[4]),k.forEach(d),a=C(p),o=m(p,"BUTTON",{class:!0});var g=y(o);u=H(g,"Close"),g.forEach(d),p.forEach(d),f.forEach(d),this.h()},h(){n(l,"class","notification-span svelte-1bxmwst"),n(o,"class","btn btn-ghost"),n(t,"class","alert alert-success"),n(e,"class","toast toast-top toast-center")},m(i,f){U(i,e,f),c(e,t),c(t,l),c(l,s),c(t,a),c(t,o),c(o,u),_||(h=P(o,"click",r[26]),_=!0)},p(i,f){f[0]&16&&de(s,i[4])},d(i){i&&d(e),_=!1,h()}}}function Ke(r){let e,t;return e=new dt({props:{isOpen:r[7],$$slots:{default:[yt]},$$scope:{ctx:r}}}),e.$on("close",r[27]),e.$on("submit",r[12]),{c(){De(e.$$.fragment)},l(l){Te(e.$$.fragment,l)},m(l,s){Ie(e,l,s),t=!0},p(l,s){const a={};s[0]&128&&(a.isOpen=l[7]),s[1]&8192&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){ae(e.$$.fragment,l),t=!1},d(l){Ne(e,l)}}}function yt(r){let e,t,l,s,a,o;return{c(){e=b("div"),t=b("h1"),l=L("Delete"),s=O(),a=b("p"),o=L("Are you sure you want to delete?"),this.h()},l(u){e=m(u,"DIV",{class:!0});var _=y(e);t=m(_,"H1",{style:!0});var h=y(t);l=H(h,"Delete"),h.forEach(d),s=C(_),a=m(_,"P",{});var i=y(a);o=H(i,"Are you sure you want to delete?"),i.forEach(d),_.forEach(d),this.h()},h(){se(t,"margin-bottom","0"),n(e,"class","prose")},m(u,_){U(u,e,_),c(e,t),c(t,l),c(e,s),c(e,a),c(a,o)},p:ue,d(u){u&&d(e)}}}function gt(r){let e,t,l,s,a,o,u,_,h,i,f,p,k,g,I,E,V,j,R,Q,B,W,Y=r[11]&&Ae(r);function A(v,S){return v[9]?ht:ft}let X=A(r),J=X(r),M=r[0].showModal&&Re(r),F=r[1].showModal&&Je(r),K=r[2]&&ze(r),z=r[3]&&Ge(r),q=r[7]&&Ke(r);return{c(){e=b("div"),t=b("div"),l=b("h2"),s=L("Batches"),a=O(),o=b("div"),u=b("div"),_=b("input"),h=O(),Y&&Y.c(),i=O(),f=b("button"),p=L("+ Add Batch"),k=O(),J.c(),g=O(),M&&M.c(),I=O(),F&&F.c(),E=O(),K&&K.c(),V=O(),z&&z.c(),j=O(),q&&q.c(),R=ne(),this.h()},l(v){e=m(v,"DIV",{class:!0,style:!0});var S=y(e);t=m(S,"DIV",{});var te=y(t);l=m(te,"H2",{});var $=y(l);s=H($,"Batches"),$.forEach(d),te.forEach(d),a=C(S),o=m(S,"DIV",{style:!0});var Z=y(o);u=m(Z,"DIV",{});var oe=y(u);_=m(oe,"INPUT",{class:!0,type:!0,placeholder:!0}),oe.forEach(d),h=C(Z),Y&&Y.l(Z),i=C(Z),f=m(Z,"BUTTON",{class:!0,style:!0});var D=y(f);p=H(D,"+ Add Batch"),D.forEach(d),Z.forEach(d),S.forEach(d),k=C(v),J.l(v),g=C(v),M&&M.l(v),I=C(v),F&&F.l(v),E=C(v),K&&K.l(v),V=C(v),z&&z.l(v),j=C(v),q&&q.l(v),R=ne(),this.h()},h(){n(_,"class","shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),n(_,"type","text"),n(_,"placeholder","Filter by Batch Name"),n(f,"class","btn btn-info"),n(f,"style","margin-left: 1rem; background: red"),se(o,"display","flex"),se(o,"align-items","center"),n(e,"class","prose max-w-none "),se(e,"display","flex"),se(e,"justify-content","space-between"),se(e,"align-items","center")},m(v,S){U(v,e,S),c(e,t),c(t,l),c(l,s),c(e,a),c(e,o),c(o,u),c(u,_),ge(_,r[8]),c(o,h),Y&&Y.m(o,null),c(o,i),c(o,f),c(f,p),U(v,k,S),J.m(v,S),U(v,g,S),M&&M.m(v,S),U(v,I,S),F&&F.m(v,S),U(v,E,S),K&&K.m(v,S),U(v,V,S),z&&z.m(v,S),U(v,j,S),q&&q.m(v,S),U(v,R,S),Q=!0,B||(W=[P(_,"input",r[20]),P(_,"input",r[21]),P(f,"click",r[15])],B=!0)},p(v,S){S[0]&256&&_.value!==v[8]&&ge(_,v[8]),v[11]?Y?Y.p(v,S):(Y=Ae(v),Y.c(),Y.m(o,i)):Y&&(Y.d(1),Y=null),X===(X=A(v))&&J?J.p(v,S):(J.d(1),J=X(v),J&&(J.c(),J.m(g.parentNode,g))),v[0].showModal?M?(M.p(v,S),S[0]&1&&ee(M,1)):(M=Re(v),M.c(),ee(M,1),M.m(I.parentNode,I)):M&&(ve(),ae(M,1,1,()=>{M=null}),ye()),v[1].showModal?F?(F.p(v,S),S[0]&2&&ee(F,1)):(F=Je(v),F.c(),ee(F,1),F.m(E.parentNode,E)):F&&(ve(),ae(F,1,1,()=>{F=null}),ye()),v[2]?K?K.p(v,S):(K=ze(v),K.c(),K.m(V.parentNode,V)):K&&(K.d(1),K=null),v[3]?z?z.p(v,S):(z=Ge(v),z.c(),z.m(j.parentNode,j)):z&&(z.d(1),z=null),v[7]?q?(q.p(v,S),S[0]&128&&ee(q,1)):(q=Ke(v),q.c(),ee(q,1),q.m(R.parentNode,R)):q&&(ve(),ae(q,1,1,()=>{q=null}),ye())},i(v){Q||(ee(M),ee(F),ee(q),Q=!0)},o(v){ae(M),ae(F),ae(q),Q=!1},d(v){v&&d(e),Y&&Y.d(),v&&d(k),J.d(v),v&&d(g),M&&M.d(v),v&&d(I),F&&F.d(v),v&&d(E),K&&K.d(v),v&&d(V),z&&z.d(v),v&&d(j),q&&q.d(v),v&&d(R),B=!1,he(W)}}}function kt(r,e,t){const l={showModal:!1},s={showModal:!1};let a=!1,o=!1,u="",_="",h,i=[],f=!1,p="",k=!0;function g(){Y(i)}let I=[{id:"checkbox",label:""},{id:"batch_name",label:"Batch Name"},{id:"batch_status",label:"Batch Status"},{id:"total_employee",label:"Total Employees"},{id:"start_date",label:"Start Date"},{id:"end_date",label:"End Date"},{id:"actions",label:""}],E=[],V=[];const j=D=>{const T=new Date(D.valueOf()),N=T.getFullYear(),w=String(T.getMonth()+1).padStart(2,"0"),G=String(T.getDate()).padStart(2,"0");return`${N}-${w}-${G}`},R=async()=>{t(9,k=!0),V=await(await fetch("http://localhost:3000/batches")).json(),Q(),t(9,k=!1)};function Q(){t(10,E=V.map(D=>{const T=D.batch_name,N=D.batch_status,w=D.total_employee,G=j(D.start_date),re=j(D.end_date);return{...D,batch_name:T,batch_status:N,total_employee:w,start_date:G,end_date:re}}))}Qe(()=>R());const B=()=>{t(0,l.showModal=!0,l)},W=D=>{t(1,s.showModal=!0,s),t(6,h=D)},Y=async D=>{try{const T=await fetch("http://localhost:3000/batches/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:D})});T.ok?(t(4,u="Batch deleted successfully!"),t(3,o=!0),t(7,f=!1),t(11,A=!1),R()):(t(5,_=T.statusText),t(2,a=!0),t(7,f=!1),console.error("Failed to delete batch:",T.statusText))}catch(T){t(5,_=String(T)),t(2,a=!0),t(7,f=!1),console.error("Failed to delete batch:",T)}};let A=!1,X=[],J=[];function M(D){if(J.includes(D)?J=J.filter(w=>w!==D):J=[...J,D],J.length>0){const w=J.map(G=>E[G]);t(11,A=!0),X=w}else t(11,A=!1),X=null}const F=()=>{t(7,f=!0),i=X.map(D=>D.batch_name)};function K(){p?t(10,E=V.filter(D=>D.batch_name.includes(p))):Q()}function z(){p=this.value,t(8,p)}const q=()=>K(),v=D=>W(D);function S(D,T){D[T].selected=this.checked,t(10,E)}return[l,s,a,o,u,_,h,f,p,k,E,A,g,I,R,B,W,M,F,K,z,q,v,S,D=>M(D),()=>t(2,a=!1),()=>t(3,o=!1),()=>t(7,f=!1)]}class wt extends ke{constructor(e){super(),Ee(this,e,kt,gt,we,{},null,[-1,-1])}}export{dt as D,wt as S};
