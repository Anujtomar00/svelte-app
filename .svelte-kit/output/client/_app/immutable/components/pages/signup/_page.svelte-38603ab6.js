import{S as ae,i as re,s as se,k as p,q as x,a as U,l as f,m as v,r as C,h as m,c as T,n as s,b as te,G as t,ae as oe,f as V,t as R,d as le,E as ne,I as ie,w as ue,x as ce,y as pe,u as fe,z as de,g as me,O as he}from"../../../chunks/index-6c230a90.js";import{e as _e,a as ve,g as ge}from"../../../chunks/forms-c50a5f01.js";import{F as be,e as Ee}from"../../../chunks/fa-f7b18daf.js";import{d as we,s as Z}from"../../../chunks/session-3dce4b9c.js";function ee(g){let a,u,i,b,_=g[0].error+"",e,o;return i=new be({props:{icon:Ee}}),{c(){a=p("div"),u=p("div"),ue(i.$$.fragment),b=U(),e=x(_),this.h()},l(l){a=f(l,"DIV",{class:!0});var r=v(a);u=f(r,"DIV",{});var E=v(u);ce(i.$$.fragment,E),b=T(E),e=C(E,_),E.forEach(m),r.forEach(m),this.h()},h(){s(a,"class","alert alert-error")},m(l,r){te(l,a,r),t(a,u),pe(i,u,null),t(u,b),t(u,e),o=!0},p(l,r){(!o||r&1)&&_!==(_=l[0].error+"")&&fe(e,_)},i(l){o||(V(i.$$.fragment,l),o=!0)},o(l){R(i.$$.fragment,l),o=!1},d(l){l&&m(a),de(i)}}}function ye(g){var j;let a,u,i,b,_,e,o,l,r,E,A,k,w,L,q,y,z,I,S,B,G,P,H,D,N,M,W,n=((j=g[0])==null?void 0:j.error)&&ee(g);return{c(){a=p("section"),u=p("div"),i=p("h1"),b=x("Sign Up"),_=U(),e=p("form"),n&&n.c(),o=U(),l=p("p"),r=p("input"),A=U(),k=p("p"),w=p("input"),L=U(),q=p("p"),y=p("input"),z=U(),I=p("p"),S=p("button"),B=x("Sign Up"),G=x(`
			or
			`),P=p("a"),H=x("Log In"),this.h()},l(c){a=f(c,"SECTION",{class:!0});var d=v(a);u=f(d,"DIV",{class:!0});var O=v(u);i=f(O,"H1",{});var $=v(i);b=C($,"Sign Up"),$.forEach(m),O.forEach(m),_=T(d),e=f(d,"FORM",{class:!0,method:!0});var h=v(e);n&&n.l(h),o=T(h),l=f(h,"P",{});var J=v(l);r=f(J,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),J.forEach(m),A=T(h),k=f(h,"P",{});var K=v(k);w=f(K,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),K.forEach(m),L=T(h),q=f(h,"P",{});var Q=v(q);y=f(Q,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),Q.forEach(m),z=T(h),I=f(h,"P",{class:!0});var F=v(I);S=f(F,"BUTTON",{class:!0});var X=v(S);B=C(X,"Sign Up"),X.forEach(m),G=C(F,`
			or
			`),P=f(F,"A",{href:!0,class:!0});var Y=v(P);H=C(Y,"Log In"),Y.forEach(m),F.forEach(m),h.forEach(m),d.forEach(m),this.h()},h(){var c,d;s(u,"class","prose"),s(r,"type","email"),s(r,"name","email"),s(r,"placeholder","Email..."),s(r,"class","input input-bordered w-full"),r.required=!0,r.value=E=(d=(c=g[0])==null?void 0:c.email)!=null?d:"",s(w,"type","password"),s(w,"name","password"),s(w,"placeholder","Password..."),s(w,"class","input input-bordered w-full"),w.required=!0,s(y,"type","password"),s(y,"name","password-confirm"),s(y,"placeholder","Confirm password..."),s(y,"class","input input-bordered w-full"),y.required=!0,s(S,"class","btn btn-primary"),s(P,"href","/login"),s(P,"class","link"),s(I,"class","flex items-center gap-6 mt-6"),s(e,"class","flex flex-col gap-6 my-6"),s(e,"method","POST"),s(a,"class","max-w-sm mx-auto")},m(c,d){te(c,a,d),t(a,u),t(u,i),t(i,b),t(a,_),t(a,e),n&&n.m(e,null),t(e,o),t(e,l),t(l,r),t(e,A),t(e,k),t(k,w),t(e,L),t(e,q),t(q,y),t(e,z),t(e,I),t(I,S),t(S,B),t(I,G),t(I,P),t(P,H),N=!0,M||(W=oe(D=_e.call(null,e,g[3])),M=!0)},p(c,[d]){var O,$,h;(O=c[0])!=null&&O.error?n?(n.p(c,d),d&1&&V(n,1)):(n=ee(c),n.c(),V(n,1),n.m(e,o)):n&&(me(),R(n,1,1,()=>{n=null}),le()),(!N||d&1&&E!==(E=(h=($=c[0])==null?void 0:$.email)!=null?h:"")&&r.value!==E)&&(r.value=E),D&&ne(D.update)&&d&2&&D.update.call(null,c[3])},i(c){N||(V(n),N=!0)},o(c){R(n),N=!1},d(c){c&&m(a),n&&n.d(),M=!1,W()}}}function Ie(g,a,u){let i;ie(g,Z,o=>u(1,i=o));const b=we("app:routes:signup:page.svelte");let{form:_}=a;const e=()=>async({result:o})=>{var l;if(b("form result:",o),await ve(o),o.type==="success"){const r=(l=o.data)==null?void 0:l.user;r&&he(Z,i.user=r,i),await ge("/dashboard")}};return g.$$set=o=>{"form"in o&&u(0,_=o.form)},[_,i,b,e]}class ke extends ae{constructor(a){super(),re(this,a,Ie,ye,se,{form:0})}}export{ke as default};
